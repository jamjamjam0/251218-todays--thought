<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ëŠ˜ì˜ ë°°ì›€ ë…¸íŠ¸</title>
    <!-- Tailwind CSS (ë””ìì¸ìš©) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- í°íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸° -->
    <link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f3f4f6;
            background-image: radial-gradient(#e5e7eb 1px, transparent 1px);
            background-size: 20px 20px;
        }
        .chalkboard-font {
            font-family: 'Gamja Flower', cursive;
        }
        /* ë…¸íŠ¸ ì¤„ë¬´ëŠ¬ íš¨ê³¼ */
        .notebook-lines {
            background-image: linear-gradient(#e5e7eb 1px, transparent 1px);
            background-size: 100% 2rem;
            line-height: 2rem;
            padding-top: 0.5rem; 
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <div class="w-full max-w-md bg-white rounded-lg shadow-xl overflow-hidden border border-gray-200">
        
        <!-- í—¤ë”: ì¹ íŒ ëŠë‚Œ -->
        <div class="bg-[#2D5A4C] p-6 text-center border-b-4 border-[#8B5A2B]">
            <h1 class="text-3xl text-white chalkboard-font tracking-wide">ğŸ« ì˜¤ëŠ˜ì˜ ìƒê° ë…¸íŠ¸</h1>
            <p class="text-green-100 text-sm mt-2 opacity-80">ì—¬ëŸ¬ë¶„ì˜ ì†”ì§í•œ ìƒê°ì„ ë‚¨ê²¨ì£¼ì„¸ìš”</p>
        </div>

        <!-- ì…ë ¥ í¼ -->
        <div class="p-8">
            <form id="myForm" onsubmit="handleFormSubmit(this)">
                
                <!-- í•™ë²ˆ & ì´ë¦„ -->
                <div class="flex space-x-4 mb-6">
                    <div class="w-1/3">
                        <label for="studentId" class="block text-sm font-bold text-gray-700 mb-1">í•™ë²ˆ</label>
                        <input type="text" id="studentId" name="studentId" placeholder="1101" required
                            class="w-full border-b-2 border-gray-300 focus:border-[#2D5A4C] outline-none py-2 px-1 bg-transparent text-center">
                    </div>
                    <div class="w-2/3">
                        <label for="name" class="block text-sm font-bold text-gray-700 mb-1">ì´ë¦„</label>
                        <input type="text" id="name" name="name" placeholder="ì´ë¦„ ì…ë ¥" required
                            class="w-full border-b-2 border-gray-300 focus:border-[#2D5A4C] outline-none py-2 px-1 bg-transparent">
                    </div>
                </div>

                <!-- ë‚˜ì˜ ìƒê° -->
                <div class="mb-6">
                    <label for="thoughts" class="block text-sm font-bold text-gray-700 mb-1">ë‚˜ì˜ ìƒê°</label>
                    <textarea id="thoughts" name="thoughts" rows="5" required placeholder="ì—¬ê¸°ì— ììœ ë¡­ê²Œ ì ì–´ì£¼ì„¸ìš”..."
                        class="w-full border border-gray-300 rounded-md p-3 focus:ring-2 focus:ring-[#2D5A4C] outline-none notebook-lines resize-none"></textarea>
                </div>

                <!-- ì œì¶œ ë²„íŠ¼ -->
                <button type="submit" id="submit-btn"
                    class="w-full bg-[#2D5A4C] hover:bg-[#1e3d33] text-white font-bold py-3 rounded-lg shadow-md transition-transform transform hover:-translate-y-0.5">
                    ì œì¶œí•˜ê¸° ğŸ“
                </button>
            </form>
            
            <!-- ê²°ê³¼ ë©”ì‹œì§€ -->
            <div id="message" class="hidden mt-4 text-center p-3 rounded-lg bg-green-100 text-green-800 font-bold chalkboard-font text-xl">
                ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ™Œ
            </div>
        </div>
        
        <div class="bg-gray-50 p-3 text-center text-xs text-gray-400">
            Secure Class Form
        </div>
    </div>

    <script>
        // í¼ ì œì¶œ ì‹œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
        function handleFormSubmit(formObject) {
            // ê¸°ë³¸ ì œì¶œ ë™ì‘ ë§‰ê¸° (ìƒˆë¡œê³ ì¹¨ ë°©ì§€)
            event.preventDefault();
            
            const btn = document.getElementById('submit-btn');
            const msg = document.getElementById('message');

            // ë²„íŠ¼ ë¹„í™œì„±í™” ë° í…ìŠ¤íŠ¸ ë³€ê²½
            btn.disabled = true;
            btn.textContent = "ì €ì¥ ì¤‘ì…ë‹ˆë‹¤...";

            // êµ¬ê¸€ ì•±ìŠ¤ ìŠ¤í¬ë¦½íŠ¸(Code.gs)ì˜ processForm í•¨ìˆ˜ í˜¸ì¶œ
            google.script.run
                .withSuccessHandler(function(response) {
                    // ì„±ê³µ ì‹œ ì‹¤í–‰
                    document.getElementById('myForm').reset(); // í¼ ì´ˆê¸°í™”
                    btn.textContent = "ì œì¶œí•˜ê¸° ğŸ“";
                    btn.disabled = false;
                    
                    // ì„±ê³µ ë©”ì‹œì§€ ë³´ì—¬ì£¼ê¸°
                    msg.classList.remove('hidden');
                    setTimeout(() => {
                        msg.classList.add('hidden');
                    }, 3000);
                })
                .withFailureHandler(function(error) {
                    // ì‹¤íŒ¨ ì‹œ ì‹¤í–‰
                    alert("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: " + error);
                    btn.textContent = "ì œì¶œí•˜ê¸° ğŸ“";
                    btn.disabled = false;
                })
                .processForm(formObject); // í¼ ë°ì´í„° ì „ì²´ë¥¼ ì„œë²„ë¡œ ì „ì†¡
        }
    </script>
</body>
</html>