<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ëŠ˜ì˜ ë°°ì›€ ë…¸íŠ¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f3f4f6;
            background-image: radial-gradient(#e5e7eb 1px, transparent 1px);
            background-size: 20px 20px;
        }
        .chalkboard-font {
            font-family: 'Gamja Flower', cursive;
        }
        .notebook-lines {
            background-image: linear-gradient(#e5e7eb 1px, transparent 1px);
            background-size: 100% 2rem;
            line-height: 2rem;
            padding-top: 0.5rem; 
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <div class="w-full max-w-md bg-white rounded-lg shadow-xl overflow-hidden border border-gray-200">
        
        <div class="bg-[#2D5A4C] p-6 text-center border-b-4 border-[#8B5A2B]">
            <h1 class="text-3xl text-white chalkboard-font tracking-wide">ğŸ« ì˜¤ëŠ˜ì˜ ìƒê° ë…¸íŠ¸</h1>
            <p class="text-green-100 text-sm mt-2 opacity-80">ì—¬ëŸ¬ë¶„ì˜ ì†”ì§í•œ ìƒê°ì„ ë‚¨ê²¨ì£¼ì„¸ìš”</p>
        </div>

        <div class="p-8">
            <form id="submit-form" class="space-y-6">
                
                <div class="flex space-x-4">
                    <div class="w-1/3">
                        <label for="studentId" class="block text-sm font-bold text-gray-700 mb-1">í•™ë²ˆ</label>
                        <input type="text" id="studentId" name="studentId" placeholder="1101" required
                            class="w-full border-b-2 border-gray-300 focus:border-[#2D5A4C] outline-none py-2 px-1 transition-colors bg-transparent text-center">
                    </div>
                    <div class="w-2/3">
                        <label for="name" class="block text-sm font-bold text-gray-700 mb-1">ì´ë¦„</label>
                        <input type="text" id="name" name="name" placeholder="í™ê¸¸ë™" required
                            class="w-full border-b-2 border-gray-300 focus:border-[#2D5A4C] outline-none py-2 px-1 transition-colors bg-transparent">
                    </div>
                </div>

                <div>
                    <label for="thoughts" class="block text-sm font-bold text-gray-700 mb-1">ë‚˜ì˜ ìƒê°</label>
                    <textarea id="thoughts" name="thoughts" rows="5" required placeholder="ì—¬ê¸°ì— ììœ ë¡­ê²Œ ì ì–´ì£¼ì„¸ìš”..."
                        class="w-full border border-gray-300 rounded-md p-3 focus:ring-2 focus:ring-[#2D5A4C] focus:border-transparent outline-none notebook-lines resize-none"></textarea>
                </div>

                <button type="submit" id="submit-btn"
                    class="w-full bg-[#2D5A4C] hover:bg-[#1e3d33] text-white font-bold py-3 rounded-lg shadow-md transition-transform transform hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed">
                    ì œì¶œí•˜ê¸° ğŸ“
                </button>
            </form>
            
            <div id="message" class="hidden mt-4 text-center p-3 rounded-lg bg-green-100 text-green-800 font-bold chalkboard-font text-xl">
                ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ™Œ
            </div>
             <div id="error-message" class="hidden mt-4 text-center p-3 rounded-lg bg-red-100 text-red-800 font-bold text-sm">
                ì œì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.
            </div>
        </div>
        
        <div class="bg-gray-50 p-3 text-center text-xs text-gray-400">
            Secure Class Form
        </div>
    </div>

    <script>
        // ==========================================
        // [ì¤‘ìš”] ì—¬ê¸°ì— êµ¬ê¸€ ì•±ìŠ¤ ìŠ¤í¬ë¦½íŠ¸ ì›¹ ì•± URLì„ ë„£ì–´ì£¼ì„¸ìš”
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzXEcdxDQKpv-AkrUdQx9xlQDv6MjoRe-BXP5OD5Ba6i0Ej6vhTZH7W6g2_2DlI_MAT/exec"; 
        // ==========================================

        const form = document.getElementById('submit-form');
        const submitBtn = document.getElementById('submit-btn');
        const messageBox = document.getElementById('message');
        const errorBox = document.getElementById('error-message');

        form.addEventListener('submit', e => {
            e.preventDefault();
            
            if (SCRIPT_URL.includes("URLì„_ë¶™ì—¬ë„£ìœ¼ì„¸ìš”")) {
                alert("ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì—´ì–´ SCRIPT_URL ë³€ìˆ˜ì— URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
                return;
            }

            submitBtn.disabled = true;
            submitBtn.innerText = "ì „ì†¡ ì¤‘...";
            messageBox.classList.add('hidden');
            errorBox.classList.add('hidden');

            const formData = new FormData(form);

            // GitHub(ì™¸ë¶€)ì—ì„œ GASë¡œ ë°ì´í„° ì „ì†¡
            fetch(SCRIPT_URL, { 
                method: 'POST', 
                body: formData,
                mode: 'no-cors' // ì¤‘ìš”: êµ¬ê¸€ ì„œë²„ë¡œ ì „ì†¡ ì‹œ CORS ì—ëŸ¬ ë°©ì§€
            })
            .then(() => {
                // no-cors ëª¨ë“œë¼ ì‘ë‹µ ë‚´ìš©ì„ ì½ì„ ìˆœ ì—†ì§€ë§Œ, ì—ëŸ¬ê°€ ì•ˆ ë‚˜ë©´ ì„±ê³µìœ¼ë¡œ ê°„ì£¼
                messageBox.classList.remove('hidden');
                form.reset();
            })
            .catch(error => {
                console.error('Error!', error.message);
                errorBox.classList.remove('hidden');
            })
            .finally(() => {
                submitBtn.disabled = false;
                submitBtn.innerText = "ì œì¶œí•˜ê¸° ğŸ“";
                setTimeout(() => {
                    messageBox.classList.add('hidden');
                }, 3000);
            });
        });
    </script>
</body>
</html>